<!DOCTYPE html>
<html lang="en">
 <head>
    <title>Eric Stassen</title>
   <meta charset="UTF-8" />
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0" />
   <link rel="stylesheet" href="gaelicfootballdata.css" />
   <meta name="description" content="Eric Stassen's Gaelic Football Analytics">
   <link rel="icon" href="img/e-s-high-resolution-color-logo.png">
 </head>
 <body>
    <nav class="navbar">
        <!-- LOGO -->
        <div class="logo">
           <a href="index.html">
               <img class="logo" src="img/eric-stassen-high-resolution-logo-color-on-transparent-background-name.png">
           </a>
       </div>
        <!-- NAVIGATION MENU -->
        <ul class="nav-links">
          <!-- USING CHECKBOX HACK -->
          <input type="checkbox" id="checkbox_toggle" />
          <label for="checkbox_toggle" class="hamburger">&#9776;</label>
          <!-- NAVIGATION MENUS -->
          <div class="menu">
            <li><a href="about.html">About</a></li>
            <li><a href="projects.html">Projects</a></li>
            <!-- <li class="projects">
              <input type="checkbox" id="checkbox_toggle_projects" />
               <label for="checkbox_toggle_projects" class="checkbox_projects">Projects</label>
              <ul class="dropdown">
                <li><a href="ericstassen.html">EricStassen.com</a></li>
              </ul>
            </li> -->
            <li><a href="contact.html">Contact</a></li>
            <li><a href="signin.html">Sign In</a></li>
          </div>
        </ul>
      </nav>

      <section class="first_section">
    
        <div class="non_photo">
          <h1>
            Gaelic Football - Data
        </h1>
          <div class="text">
        <h2>
            Foreword
        </h2>
          <p>
            Gaelic Football is an Irish team sport that involves many unique skills and strategies.
            If you're unfamiliar with the sport, more information can be found <a target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Gaelic_football">here</a>.  
            I have played Gaelic Football for the <a target="_blank" rel="noopener noreferrer"  href="https://www.hartfordgaa.com/">Hartford GAA</a> since 2021 and it is a significant part of my life.
            I always wanted to figure out a way to play more efficiently, so I decided to investigate from a data perspective.
          <!-- </p>
          <p> -->
            <!-- This is part one of a two-part analysis. -->
            <!-- Part one covers data collection and basic calculations.
            Part two covers analytics and how we approach improving our team's efficiency. -->
            <!-- I also play Hurling, check it out <a href="hurlingdata.html">here</a>. -->
          </p>
        <h2>
            Abstract
        </h2>
          <p>
            Analytics for sports has been gaining popularity, but I have seen little use in Gaelic Football.
            
            The following project is an approach to gathering data that will help us better understand the game.
            The data extraction process is primarily a Computer Vision problem.
            The ball and players are identified and tracked using YOLOv7/StrongSORT, which are pretrained deep learning idenitification and tracking algorithms.
            Once the data is collected, it is is read into Pandas in Python and cleaned to make it usable for analytics.
            <!-- The insights are only as powerful as the data, however, so the strategies are only relevant to the players and teams studied. -->
            My team plays in a competitive league so the data collection process shared here will not be complete.
            The code and data shared is merely representative and is not an indication of strengths, weaknesses, or strategies of the team.
            It should also be noted that this analysis is not intended to replace coaches or be the sole indicator of what to do.
            This work is only intended to augment coaches' and players' decision-making, planning, and understandings.
          </p>
        <h2>
            Introduction
        </h2>
          <h3>
            Background & Game Rules
          </h3>
          <p>
            As knowledge of Gaelic Football is not widely known throughout the USA, let's begin with a quick overview of the rules.
            It is played by two teams on a large rectangular field with a ball that very closely resembles a soccer ball.
            On either end of the field are goals with uprights extending from the goalposts up to the sky.
            In Ireland, there are 15 players on the field per team, but in the United States we usually have 13 players per team on slightly smaller fields.
            Each team defends one goal and the positions from their own goal are as follows: 1 Keeper, 2 Full-backs, 3 Half-backs, 2 Mid-fielders, 3 Half-forwards, 2 Full-forwards.
            The ball is moved back and forth across the field with the intention to score.
            If the ball goes into the goal, the team is rewarded with 3 points.
            If the ball goes above the goal and through the uprights, the team is rewarded with 1 point.
            The playing rules are described by the <a target="_blank" rel="noopener noreferrer"  href="https://www.gaa.ie/">GAA</a> as follows: 
            </p>
            <p style="margin-left: 10%; margin-right: 10%;"><i>The ball can be carried in the hand for a distance of four steps and can be kicked or "hand-passed", a striking motion with the hand or fist.
              After every four steps the ball must be either bounced or "solo-ed", an action of dropping the ball onto the foot and kicking it back into the hand.
              You may not bounce the ball twice in a row.
              Players may contest for the ball by playing it with the hand or by shoulder charging an opponent side-to-side.
            </i></p>
            <p>
              Gaelic Football is played in several leagues across the world.
              The Hartford GAA is part of the <a target="_blank" rel="noopener noreferrer"  href="https://usgaa.org/">USGAA</a> and plays in the Northeast division at the Junior C level.
              All of the following work will reflect the rules and game styles of the Hartford GAA, but the same analyzation techniques could be applied to other teams in different situations.
            </p>
          <h3>
              Analytical Applications
          </h3>
          <p>
            Analytics are intended to help guide improvements.
            Individual players can improve by practicing all of the skills needed, including fitness, passing, shooting, tackling, etc.
            Teams can improve by practicing strategies and situational planning.
            Analytics can help players improve by identifying strengths/weaknesses and revealing the best technique.
            For example, by developing a point conversion heat-map, we might identify that point shooting is a weakness for a certain player.
            That player can improve by practicing point shots from specific areas in addition to analyzing technique.
            Similarly, analytics can improve team performance by identifying strengths/weaknesses of collective players and determining the strategy that is most likely to result in a win.
            For example, analytics could help determine what a player should do when they have the ball in a certain part of the field.
            The team can determine whether there is a higher likelihood of scoring by kicking long passing or relying entirely on short hand passes.
            There are many opportunities to gain insights at any level of the game, but it is all dependent on the data we can collect.
          </p>
          
          <h3>
            Data Collection
          </h3>
            <p>
              Sports Analysis is only as powerful as the data available.
              In a sport like Gaelic Football, there is a significant amount of data to collect.
              Traditional data collection involves manually recording every action.
              Unfortunately, Gaelic Football could have 30 players on the field plus a fast moving ball, which makes manual data collection an arduous task.
              Additionally, there are countless data features we could collect.
              Therefore, we must narrow down the features collected and attempt to optimize the collection to be as fast as possible.
              We decided the most important features at each time interval are the 2D location of the ball, the 2D location of each player, and the action.
              Future enhancements could include countless other features, like player posture or adding the 3rd dimension.
            </p>
            <p>The features selected allow us to streamline the data collection process.
              One aerial camera can record 2D ball/player locations in addition to the actions on the field.
              Once the game is completed, we use Python to extract each data point.
              The idea is to allow Python to extract the data so we don't have to manually record everything.
            </p>
        <h2>
            Related Works
        </h2>
        <h3>
          Data Collection
        </h3>
          <p>
            Using Python to extract data is a Computer Vision use-case that builds off of prior work.
            Digital videos are series of images, which are each made up of pixels.
            Python must scan every pixel in every image to identify objects and then track objects from one image to another.
            This is no easy task.
            To accomplish this, we use a combination of opencv-python and YOLOv7/StrongSORT.
          </p>
          <p>The <a target="_blank" rel="noopener noreferrer"  href="https://opencv.org/">OpenCv</a> Python library allows users to interact with videos and images.
            It provides built-in functionality to quickly read/edit/create images and videos.
            Examples of the functionality include: showing only certain color pixels, finding object contours, changing the perspective of an image, etc.
            This library is the basis for most computer vision tasks.
          </p>
          <p><a target="_blank" rel="noopener noreferrer"  href="https://arxiv.org/abs/2207.02696">YOLOv7</a> is a pre-trained deep learning computer vision model.
            The <a target="_blank" rel="noopener noreferrer"  href="https://arxiv.org/abs/1506.02640">YOLO</a> (You Only Look Once) models are a series of incrementally improved models that were trained to identify objects in the <a target="_blank" rel="noopener noreferrer"  href="https://cocodataset.org/#home">COCO</a> dataset.
            The COCO (Common Objects in Context) dataset contains pre-segmented images of nearly 100 common objects, for example: people, umbrellas, ties, sandwich, sports balls, kites, scissors, etc.
            The YOLO models use Convolutional Neural Network Architectures to learn to identify the objects in COCO's images.
            YOLOv7 was released in July 2022 and provided the capability to identify objects in images faster and more accurately than any previous models.
            By using YOLO, we can detect objects (players, balls, etc.) on the field in real-time.
            This capability provides a huge boost to our data collection efficiency, but also has its limitations.
            Most significantly, the model can only identify objects that it was trained to see.
            It should be able to identify players on the field, because it was trained to see people.
            In contrast, the ball may be inconsistent because a Gaelic Football was not one of the objects that the model was trained on and a Gaelic Football is a relatively small object traveling very quickly.
            Small, faster objects are notoriously difficult to detect.
            However, new YOLO models are constantly being created, so perhaps a future version will be more capable.
            A future enhancement could also include training our own model to identify Gaelic Footballs.
          </p>
          <p><a target="_blank" rel="noopener noreferrer"  href="https://arxiv.org/abs/2202.13514">StrongSORT</a> is a Multi-Object Tracking method that was released in February 2022.
            It runs in conjunction with YOLO to identify and track unique objects throughout a video.
            An implementation of StrongSORT can be found <a target="_blank" rel="noopener noreferrer"  href="https://github.com/bharath5673/StrongSORT-YOLO">here</a>.
            The provided code can be used with only a few modifications to track players on the field.
            However, the capabilities of the Multi-Object Tracking algorithm are dependent on the quality of the video.
            If objects are too small or too blurry or moving too quickly, the algorithm may not be able to identify/track properly.
            The algorithm is also not perfect, so it might confuse objects from time to time.
          </p>
          <h3>
            Analysis Techniques
          </h3>
          <p>Sports Analytics is still relatively new, but is now far from an uncommon practice.
            It is well-known that analytics is used extensively in Baseball, Basketball, American Football, Hockey, Soccer, and Golf.
            Baseball is possibly the most famous use-case as it has been popularized in movies like Moneyball.
            Baseball fans everywhere know the basic baseball statistics like Batting Average (BA) and Expected Run Average (ERA).
            Basketball uses statistics like field goal percentages.
            American Football tracks win probability based on score, field positions, possession, etc.
            Soccer tracks where players are on the field to measure spacing.
            Hockey determines the Corsi Statistic, which is a shot differential between teams.
            Golf uses ShotLink to track the ball.
            There are so many different techniques from many different sports that range from simple to extremely complex.
            We can build off of what other sports have done to develop an analytical system unique to Gaelic Football.
          </p>
          <p>
            The one analytical technique that I have seen commonly applied to Gaelic Football is <a target="_blank" rel="noopener noreferrer"  href="https://www.hawkeyeinnovations.com/our-technology">Hawk-Eye</a>.
            Hawk-Eye is a ball tracking software that has been applied to many sports and is primarily used as an aid in officiating.
            In Gaelic Football, points are determined by umpires but there are many shots that are difficult to judge in real-time.
            In those cases Hawk-Eye can display the exact location of the ball as it passes the uprights, which helps officials make the correct calls.
            The technology to create Hawk-Eye involves several cameras and proprietary software, so it is difficult to build off their work.
            Hawk-Eye's application to officiating is also somewhat outside of the scope of what we are attempting to research.
          </p>
        <h2>
            Implementation
        </h2>
        <h3>
          Raw Data
        </h3>
        <p>
          In April of 2023, the Hartford GAA hosted a scrimmage between the Hartford Gaelic Football team and the Hartford Hurling team.
          The players on each team usually only play their chosen sport (although I'm an exception who plays both), but on this day we played both sports, one after the other.
          The final scores tend to come out somewhat lopsided because a team that plays the sport is playing a team that doesn't.
          However, it provides a great opportunity to test out skills and strategies against an unfamiliar opponent.
          It also provides a chance to fly a drone over the field to record each game.
          One short example of our game footage can be seen below:
        </p>
        <div id="youtube_iframe">
          <iframe src="https://www.youtube.com/embed/r03Vm5f3biU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
      </div>
        <h3>
          Data Collection
        </h3>

        <p>
          Raw video is a fantastic asset.
          It's already a step in the right direction because we can review our movements at a later point and discuss with our coaches.
          We would already be better off than most teams in our league if we stopped there.
          But why stop there when we can go further?
        </p>
        <h3>
          Player Actions
        </h3>
        <p>
          I mentioned above that data collection is a Computer Vision problem, but there are other options that should be mentioned first.
          Primarily, we want to record who does what action where and when.
          Therefore, we can watch the matches and take manual notes to record what each player is doing.
          There are apps available on iOS and Android that let you manually record game actions, which we can use either during the match or by watching the video at a later time.
          We do actively use this technique but it is spearheaded by other members of the team, so I won't go too in depth.
          Their work is extremely valuable because it can provide analytical opportunities on its own and can be joined to the data returned from the Computer Vision algorithms shown below.
        </p>
        <p>
          My approach to solve this Computer Vision problem was to leverage the available open-source techniques: YoloV7 and StrongSORT.
          YoloV7 can identify players and the ball (it was trained on COCO, which included people and sports balls).
          StrongSORT can track each of the identified objects over the many frames in the video.
          Fortunately, I was able to reuse much of the work available here: <a target="_blank" rel="noopener noreferrer"  href="https://github.com/bharath5673/StrongSORT-YOLO">StrongSORT-YOLO</a>.
          I cloned the repository, downloaded the YoloV7 model artifacts, and set up a Python environment to run everything.
          The final result was a dataset of objects and locations, available here: <a target="_blank" rel="noopener noreferrer"  href="https://github.com/EJstass/gaelicfootball-analytics/blob/main/Football_intersquad.txt">Football Movement Data</a>.
          The results were also plotted to the raw footage so we can visually see what was recorded.
        </p>
        <div id="youtube_iframe">
          <iframe src="https://www.youtube.com/embed/S2cOYojlN3Y" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen>

          </iframe>
          </div>
        <h3>
          Basic Analytical Techniques
        </h3>
          <p>
           The resulting dataset is useless unless it can be translated to solve real problems.
           The first problem I wanted to solve was determining player location using longitude latitude.
           Unfortunately, the YOLO/STRONGSORT algorithms weren't perfect, so step 1 was to identify players and clean the data.
           The next step was to identify the longtiude and latitude of certain locations on the field and find the corresponding pixel coordinates in the images.
           Finally, the last step included calculating the longitude latitude of all the objects on the screen throughout the video.
           The resulting dataset covered every player's position on earth for every image in the video.
           That opens a world of possibilities...
          </p>
          <p>
            Matches are won and lost by players' actions on the field.
            Players make decisions all the time, whether they have the ball or not.
            The most common decision is where to be on the field at a certain point in time.
            Player positioning and movements are important because they affect all other decisions: passing, scoring, defense, etc.
            Therefore, my next idea was to calculate distance.
            Specifically, the distance each player is from the ball and the distance the player has moved.
            I also considered the distance each player was from the other players, but that would create an exponential number of calculations.
            Fortunately, the Haversine formula can be applied to calculate the distance between two longitude latitude locations.
            Once distance is determined, speed can be calculated by relating distance to the frame rate.
            As a result, I was able to find each player's speed in Miles per Hour.
           </p>
           <p>
            All these calculations are great, but they're useless to my teammates in table format.
            My team already enjoys watching video of us playing, so I decided the easiest option would be to simply plot all these data back to the video.
            The Python OpenCV library allows you to print text anywhere on an image based on the pixel location, which we already have from the YOLOv7/STRONGSORT algorithm.
            The result is below.
           </p>
           <div id="youtube_iframe">
            <iframe src="https://www.youtube.com/embed/1SeBJ57BcC0?si=cXmx7bHu5yGj_uXt" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen>
  
            </iframe>
            </div>
        <h2>
            Conclusion & Next Steps
        </h2>
          <p>
           This data collection process opens endless opportunities for analysis.
           For example, the few calculations that were performed allow for even more data fields to be derived.
           In addition, the video can zoom out to cover the entire field which would allow us to track other aspects of the match, like score.
           Most importantly, whatever data we decide to collect, we can use it to improve our strategy.
           Models can be built to learn the most effective strategies in a match.
           We can also learn what to focus on during practice.
           Coaches can spend a lifetime learning the game and figuring out which strategies work best.
           This data collection method would empower a model to do it in a fraction of the time.
          </p>
        <h2>
            Citations
        </h2>
          <p>
            COCO Data: <a target="_blank" rel="noopener noreferrer"  href="https://cocodataset.org/#home">COCO</a> 
            <br> Github: <a target="_blank" rel="noopener noreferrer"  href="https://github.com/bharath5673/StrongSORT-YOLO">StrongSORT-YOLO</a>
            <br> Publication: <a target="_blank" rel="noopener noreferrer"  href="https://arxiv.org/abs/2202.13514">StrongSORT</a>
            <br> Publication: <a target="_blank" rel="noopener noreferrer"  href="https://arxiv.org/abs/1506.02640">YOLO</a>
            <br> Publication: <a target="_blank" rel="noopener noreferrer"  href="https://arxiv.org/abs/2207.02696">YOLOv7</a>
            <br> Python Library: <a target="_blank" rel="noopener noreferrer"  href="https://opencv.org/">OpenCv</a> 
          </p>
        <h2>
            My Links
        </h2>
          <p>
            GitHub: <a target="_blank" rel="noopener noreferrer" href="https://github.com/EJstass/gaelicfootball-analytics">Gaelic Football</a>    
          </p>

      </div>
      </div>
      <div class="photo">
    
        </div>
        <div class="location">
          <a target="_blank" rel="noopener noreferrer"  href="https://www.hartfordgaa.com/">Where am I?</a>
        </div>
        </section>


 </body>
</html>